<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Token Manager</title>
</head>
<!-- 12. The Token Manager: You are developing a user authentication system, and you need to manage user authentication tokens. Implement a function named setAuthToken that takes an authentication token and sets it in localStorage with an expiration time. -->     
<body>

    <script>

        function SetAuthToken(token,time=300){
            console.log("Function called")

            const expirytime= Date.now()+time

            const tokendata={
                value:token,
                expiry:expirytime
            }

            localStorage.setItem("Token",JSON.stringify(tokendata))


        }
        function getAuthtoken(){
            const data=localStorage.getItem("Token");

            if(!data){
                return null;
            }
            const tokendata = JSON.parse(data);

            if(Date.now()>tokendata.expiry){
                localStorage.removeItem("Token");
                console.log("Token Expired");
                return null;
            }
            return tokendata.value;

        }
        SetAuthToken(1234,2000);
        getAuthtoken();


    </script>
    
</body>
</html>